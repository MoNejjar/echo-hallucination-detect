%% Architecture Diagramflowchart TB```mermaid

%% Render with: mmdc -i architecture.mmd -o architecture.svg

    subgraph Client[React Frontend]flowchart TB

flowchart TB

    subgraph Client[React Frontend]        UI[UI Components]    subgraph Client[React Frontend]

        UI[UI Components]

        Editor[Prompt Editor]        Editor[Prompt Editor]        UI[UI Components]

        Viz[Risk Visualization]

    end        Viz[Risk Visualization]        Editor[Prompt Editor]

    

    subgraph Server[FastAPI Backend]    end        Viz[Risk Visualization]

        Routes[API Routes]

        Facade[LLM Facade]        end

    end

        subgraph Server[FastAPI Backend]    

    subgraph Agents[Specialized Agents]

        Analyzer[Analyzer Agent]        Routes[API Routes]    subgraph Server[FastAPI Backend]

        Conversation[Conversation Agent]

    end        Facade[LLM Facade]        Routes[API Routes]

    

    subgraph External[External Services]    end        Facade[LLM Facade]

        OpenAI[OpenAI GPT-4]

    end        end

    

    UI --> Editor    subgraph Agents[Specialized Agents]    

    Editor --> Routes

    Routes --> Facade        Analyzer[Analyzer Agent]    subgraph Agents[Specialized Agents]

    Facade --> Analyzer

    Facade --> Conversation        Conversation[Conversation Agent]        Analyzer[Analyzer Agent]

    Analyzer --> OpenAI

    Conversation --> OpenAI    end        Conversation[Conversation Agent]

    OpenAI --> Analyzer

    OpenAI --> Conversation        end

    Analyzer --> Routes

    Conversation --> Routes    subgraph External[External Services]    

    Routes --> Viz

            OpenAI[OpenAI GPT-4]    subgraph External[External Services]

    style Client fill:#667eea,stroke:#764ba2,stroke-width:3px

    style Server fill:#f093fb,stroke:#f5576c,stroke-width:3px    end        OpenAI[OpenAI GPT-4]

    style Agents fill:#4facfe,stroke:#00f2fe,stroke-width:3px

    style External fill:#43e97b,stroke:#38f9d7,stroke-width:3px        end


    UI --> Editor    

    Editor --> Routes    UI --> Editor

    Routes --> Facade    Editor --> Routes

    Facade --> Analyzer    Routes --> Facade

    Facade --> Conversation    Facade --> Analyzer

    Analyzer --> OpenAI    Facade --> Conversation

    Conversation --> OpenAI    Analyzer --> OpenAI

    OpenAI --> Analyzer    Conversation --> OpenAI

    OpenAI --> Conversation    OpenAI --> Analyzer

    Analyzer --> Routes    OpenAI --> Conversation

    Conversation --> Routes    Analyzer --> Routes

    Routes --> Viz    Conversation --> Routes

        Routes --> Viz

    style Client fill:#667eea,stroke:#764ba2,stroke-width:3px    

    style Server fill:#f093fb,stroke:#f5576c,stroke-width:3px    style Client fill:#667eea,stroke:#764ba2,stroke-width:3px

    style Agents fill:#4facfe,stroke:#00f2fe,stroke-width:3px    style Server fill:#f093fb,stroke:#f5576c,stroke-width:3px

    style External fill:#43e97b,stroke:#38f9d7,stroke-width:3px    style Agents fill:#4facfe,stroke:#00f2fe,stroke-width:3px

    style External fill:#43e97b,stroke:#38f9d7,stroke-width:3px
```
